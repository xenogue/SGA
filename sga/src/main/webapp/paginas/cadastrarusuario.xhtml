<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:c="http://java.sun.com/jsp/jstl/core" 
                xmlns:p="http://primefaces.org/ui"
                template="/templates/main.xhtml">
    <ui:define name ="tarefas">
        <p:fieldset legend="Cadastrar Usuários">
            <br/>
            <f:view>
                <h:form>
                            <p:panel header="Preencha as informações de cadastro">
                                <p:growl id="msg0"/>

                                <h:panelGrid columns="2" cellpadding="15" styleClass="panelGrid" id="grid0">
                                    <h:outputLabel/>
                                    <h:inputHidden id="idUsuario" value="#{mbUsuario.usuario.idUsuario}"/>

                                    <h:outputLabel for="nomeUsuario" value="Nome.:"/>
                                    <p:inputText id="nomeUsuario" size="40" value="#{mbUsuario.usuario.nome}" required="true"
                                                 requiredMessage="O campo [Nome] é obrigatório" 
                                                 onkeyup="this.value = this.value.toUpperCase()"/>

                                    <h:outputLabel for="sexo" value="Sexo.:"/>
                                    <p:selectOneMenu id="sexo" value="#{mbUsuario.usuario.sexo}">
                                        <f:selectItem itemValue="Masculino" itemLabel="Masculino" />
                                        <f:selectItem itemValue="Feminino" itemLabel="Feminino" />
                                    </p:selectOneMenu>
                                    
                                    <h:outputLabel for="papel" value="Papel.:"/>
                                    <p:selectOneMenu id="papel" value="#{mbUsuario.usuario.papel.idPapel}">
                                        <f:selectItems value="#{bbPapel.papeis}" var="papel" itemValue="#{papel.idPapel}" 
                                                       itemLabel="#{papel.papel}"/>
                                    </p:selectOneMenu>
                                    
                                    <h:outputLabel for="secao" value="Seção.:"/>
                                    <p:inputText id="secao" size="20" value="#{mbUsuario.usuario.secao}"
                                                 onkeyup="this.value = this.value.toUpperCase()" />

                                    <h:outputLabel for="telefoneSecao" value="Telefone Seção.:"/>
                                    <p:inputMask id="telefoneSecao" size="15" value="#{mbUsuario.usuario.telefoneSecao}" 
                                                 required="true" mask="(99) 9999-9999?9"
                                                 requiredMessage="O campo [Telefone Seção] é obrigatório"/>
                                    
                                    <h:outputLabel for="telefonePessoal" value="Telefone Pessoal.:"/>
                                    <p:inputMask id="telefonePessoal" size="15" value="#{mbUsuario.usuario.telefonePessoal}" 
                                                 required="true" mask="(99) 9999-9999?9"
                                                 requiredMessage="O campo [Telefone Pessoal] é obrigatório" />
                       
                                    <h:outputLabel for="email" value="E-mail.:"/>
                                    <p:inputText id="email" size="40" value="#{mbUsuario.usuario.email}" required="true"
                                                 requiredMessage="O campo [E-mail] é obrigatório">
                                        <f:validator validatorId="emailValidator"/>
                                    </p:inputText>

                                    <h:outputLabel for="cpf" value="CPF.:"/>
                                    <p:inputMask id="cpf" size="14" value="#{mbUsuario.usuario.cpf}" 
                                                 required="true" mask="999.999.999-99"
                                                 requiredMessage="O campo [CPF] é obrigatório" >
                                        <f:validator validatorId="cpfValidator"/>
                                    </p:inputMask>

                                    <h:outputLabel for="dataNascimento" value="Data de Nascimento.:"/>
                                    <p:calendar id="dataNascimento" value="#{mbUsuario.usuario.dataNascimento}" required="true"
                                                requiredMessage="O campo [Data de Nascimento] é obrigatório"
                                                locale="pt_BR" navigator="true" effect="explode" pattern="dd/MM/yyyy"/>
                                    
                                    <h:outputLabel for="OM" value="Organização Militar.:"/>
                                    <p:inputText id="OM" size="100" value="#{mbUsuario.usuario.OM}"
                                                 onkeyup="this.value = this.value.toUpperCase()"/>
                                    
                                    <h:outputLabel for="saram" value="Saram.:"/>
                                    <p:inputMask id="saram" size="10" value="#{mbUsuario.usuario.saram}"
                                                 mask="9999999"/>
                                    
                                    <h:outputLabel for="login" value="Login.:"/>
                                    <p:inputText id="loginUsuario" size="25" maxlength="25" 
                                                 value="#{mbUsuario.usuario.login}" required="true"
                                                 requiredMessage="O campo [Login] é obrigatório"/>
                                    
                                    <h:outputLabel for="senha" value="Senha.:"/>
                                    <p:password id="senha" size="22" maxlength="22" 
                                                 required="true" requiredMessage="O campo [Senha] é obrigatório"
                                                 promptLabel="Digite sua Senha" value="#{mbUsuario.confereSenha}"
                                                 weakLabel="Senha fraca" goodLabel="Senha normal" strongLabel="Senha forte"
                                                 feedback="true"/>
                                    
                                    <h:outputLabel for="conferesenha" value="Confirmar Senha.:"/>
                                    <p:password id="senhaconf" size="22" maxlength="22" 
                                                 required="true" promptLabel="Confirme sua Senha" 
                                                 value="#{mbUsuario.usuario.senha}" weakLabel="Senha fraca" 
                                                 goodLabel="Senha normal" strongLabel="Senha forte"
                                                 feedback="true"/>
                                    <p:panel>
                                        <p:commandButton value="Salvar" action="#{mbUsuario.addUsuario}" 
                                                         image="ui-icon ui-icon-disk" update="@form"/>
                                        <p:commandButton value="Cancelar" actionListener="#{mbUsuario.limpUsuario}" 
                                                         image="ui-icon ui-icon-close" update="@form"/>
                                    </p:panel>
                                </h:panelGrid>
                            </p:panel>
                        
                </h:form>
            </f:view>
        </p:fieldset>
    </ui:define>


</ui:composition>
